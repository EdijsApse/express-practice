<%- include('../includes/head.ejs', { title: 'My Cart' }) %>
<%- include('../includes/navigation.ejs') %>
    <section class="bg-white page-title-container container-xxl box-shadow box-radius-bottom">
        <div class="py-5">
            <h1 class="text-center">My Cart</h1>
        </div>
    </section>
    <section class="page-main-container cart-page container-xxl mt-5">
        <% if (!products.length) { %>
            <div class="bg-white p-5 box-radius box-shadow">
                <h2 class="text-center">Your cart is empty!</h2>
                <div class="text-center mt-4">
                    <a href="/products" class="btn btn-pink btn-pink-hover">Search for products</a>
                </div>
            </div>
        <% } else { %>
            <% for(const product of products) { %>
                <%- include('../includes/cart-item.ejs', { product }) %>
            <% } %>
            <div class="cart-actions">
                <p class="price">$ <%= totalCartValue %></p>
                <div class="actions">
                    <form method="POST" action="/cart/empty">
                        <button class="btn btn-pink btn-pink-hover" type="submit">Empty Cart</button>
                    </form>
                    <form method="POST" action="/cart/proceed">
                        <button type="submit" class="btn btn-dark">Proceed</button>
                    </form>
                </div>
            </div>
        <% } %>
    </section>
<%- include('../includes/footer.ejs') %>